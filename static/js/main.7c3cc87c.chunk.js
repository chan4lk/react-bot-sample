(this["webpackJsonpfull-bot"]=this["webpackJsonpfull-bot"]||[]).push([[0],{1631:function(t,e){},1632:function(t,e){},1633:function(t,e){},1746:function(t,e,n){},1750:function(t,e,n){"use strict";n.r(e);var c=n(38),o=n(1),a=n.n(o),i=n(171),r=n.n(i),s=(n(743),n(53)),u=n.n(s),l=n(730),f=n(373),d=n(81),p=n.n(d),b=(n(1746),n(231)),j=n(734),h=n(372),O=function(t){var e=t.payload,n=t.config,o=(0,d.hooks.useSendPostBack)(),a=e||{type:"AdaptiveCard",version:"1.0",body:[{type:"Image",url:"https://adaptivecards.io/content/adaptive-card-50.png"},{type:"TextBlock",text:"Hello **Adaptive Cards!**"}],actions:[{type:"Action.OpenUrl",title:"Learn more",url:"https://adaptivecards.io"},{type:"Action.OpenUrl",title:"GitHub",url:"https://github.com/Microsoft/AdaptiveCards"}]},i=new h.AdaptiveCard;i.hostConfig=new h.HostConfig(Object(b.a)({fontFamily:"Segoe UI, Helvetica Neue, sans-serif"},n)),i.onExecuteAction=function(t){alert("Ow!"),o("sample:password-input")},i.parse(a);var r=i.render();return Object(c.jsx)("div",{ref:function(t){t&&0===t.childNodes.length&&t.appendChild(r)}})},v=function(){return function(t){return function(e){var n=e.activity,o=e.nextVisibleActivity,a=Object(j.a)(e,["activity","nextVisibleActivity"]),i=n.name;return"event"===n.type&&"passwordInput"===i?function(){return Object(c.jsx)(O,{config:{}})}:t(Object(b.a)({activity:n,nextVisibleActivity:o},a))}}},m=function(){return function(t){return function(e){switch(e.attachment.contentType){case"application/vnd.microsoft.botframework.samples.github-repository":return Object(c.jsxs)("div",{children:[e.attachment.content.owner," "]});default:return t(e)}}}},y=function(t){var e=t.className,n=t.onFetchToken,a=t.store,i=t.token,r=Object(o.useMemo)((function(){return Object(d.createDirectLine)({token:i})}),[i]),s=Object(o.useMemo)((function(){return Object(d.createStyleSet)({backgroundColor:"Transparent"})}),[]);return Object(o.useEffect)((function(){n()}),[n]),a.dispatch({type:"WEB_CHAT/SET_SEND_BOX",payload:{text:"sample:password-input"}}),i?Object(c.jsx)(p.a,{activityMiddleware:v,attachmentMiddleware:m,className:"".concat(e||""," web-chat"),directLine:r,store:a,styleSet:s}):Object(c.jsx)("div",{className:"".concat(e||""," connect-spinner"),children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)("span",{className:"ms-Icon ms-Icon--Robot"})}),Object(c.jsx)("p",{children:"Please wait while we are connecting."})]})})},w=function(){var t=Object(o.useMemo)((function(){return Object(d.createStore)({},(function(t){var e=t.dispatch;return function(t){return function(n){return"DIRECT_LINE/CONNECT_FULFILLED"===n.type?e({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/join",value:{language:window.navigator.language}}}):"DIRECT_LINE/INCOMING_ACTIVITY"===n.type&&"bot"===n.payload.activity.from.role&&a(!0),t(n)}}}))}),[]),e=Object(o.useMemo)((function(){return Object(d.createStyleSet)({backgroundColor:"Transparent"})}),[]),n=Object(o.useState)(!1),a=Object(f.a)(n,2)[1],i=Object(o.useState)(),r=Object(f.a)(i,2),s=r[0],p=r[1],b=Object(o.useCallback)(Object(l.a)(u.a.mark((function t(){var e,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=9;break}return t.next=3,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,c=n.token,p(c);case 9:case"end":return t.stop()}}),t)}))),[p,s]);return Object(c.jsx)(y,{className:"react-web-chat",onFetchToken:b,store:t,styleSet:e,token:s})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1754)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),o(t),a(t),i(t)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),g()},370:function(t,e){},371:function(t,e){},733:function(t,e){},743:function(t,e,n){},906:function(t,e){},908:function(t,e){},936:function(t,e){},938:function(t,e){},966:function(t,e){},967:function(t,e){},972:function(t,e){},974:function(t,e){},998:function(t,e){}},[[1750,1,2]]]);
//# sourceMappingURL=main.7c3cc87c.chunk.js.map